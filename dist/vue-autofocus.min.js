/*!
  * vue-autofocus v1.0.4
  * (c) 2019 André Bunse (aburai)
  * @license MIT
  */
/*!
  * vue-autofocus v1.0.4
  * (c) 2019 André Bunse (aburai)
  * @license MIT
  */
var e,t;e=this,t=function(){"use strict";var e,t={initDelay:300,focusDelay:100,refocusDelay:100,select:!0,debug:!1},n=["INPUT","TEXTAREA"],o=n.concat(["SELECT","BUTTON"]),i=function(e){if(e&&"function"==typeof e.querySelector){if(o.includes(e.nodeName)&&!c(e))return e;var t=e.querySelector("[autofocus]");if(!t){var n=o.find((function(t){return!c(e.querySelector(t))}));n&&(t=e.querySelector(n))}return t}},c=function(e){return e?e.getAttribute("disabled")||e.classList.contains("disabled")?"el disabled":"":"el missing"},u=function(e,t){if(!e||"function"!=typeof e.getBoundingClientRect)return!1;var n,o;if(t&&t.parent){var i=t.parent;n=i.clientWidth,o=i.clientHeight}else n=window.innerWidth,o=window.innerHeight;var c=e.getBoundingClientRect();return c.left>=0&&c.left<n&&c.top>=0&&c.top<o},r=function(){};return r.prototype.init=function(e){},r.install=function o(r,l){if(!o.installed||e!==r){o.installed=!0,e=r;var f,s,a,d,m=Object.assign({},t,l);r.prototype.$autofocus=function(t,o){var r=this,l=Object.assign({},m,o),v=!1;$("vue-autofocus",t||""),this.$nextTick((function(){f&&clearTimeout(f),f=setTimeout((function(){var e=p();if(!e)return $("container not found",t);if(!u(e,l))return $("selector is not visible");var n=i(e);if(!(n instanceof HTMLElement))return $("found no element to focus",n);if(n===document.activeElement)return $("element already focused");var o=c(n);if(o)return $("error:",o,n);T(),$("set focus to",n),$("active element before",document.activeElement),r.$nextTick((function(){s&&clearTimeout(s),a&&clearTimeout(a),d&&clearTimeout(d),s=setTimeout((function(){n.focus(),a=setTimeout((function(){n===document.activeElement||v||n.focus(),d=setTimeout((function(){n===document.activeElement||v||n.focus(),n===document.activeElement?(y(n),$("focused",n)):v?$("user event: skipped"):$("failed",document.activeElement),s=null,a=null,d=null,g()}),l.refocusDelay)}),l.refocusDelay)}),l.focusDelay)}))}),l.initDelay)}));var y=function(e,t,o){if(l.select&&e&&e.nodeName&&n.includes(e.nodeName)&&e.value)if(e.createTextRange){var i=e.createTextRange();i.move("character",o),i.select()}else try{void 0!==t&&void 0!==o?e.setSelectionRange(t,o):e.select()}catch(e){console.warn("The input element type does not support selection")}},p=function(){var n;if(t&&"object"==typeof t&&t.ref&&r.$refs&&(t=r.$refs[t.ref]),t&&"string"==typeof t)r.$el&&"function"==typeof r.$el.querySelector&&(n=r.$el.querySelector(t),$("by selector=%s",t,n));else if(t instanceof e){var o=t;n=o.$refs.input||o.$el,$("by vue component",t,n)}else $("by component $el",n=r.$el);return n},T=function(){document.addEventListener("click",b,!0),document.addEventListener("keyup",E,!0)},g=function(){document.removeEventListener("click",b,!0),document.removeEventListener("keyup",E,!0)},b=function(){v=!0},E=function(){v=!0};function $(){l.debug&&console.log.apply(console,arguments)}}}},r.version="1.0.4",window&&window.Vue&&window.Vue.use(r),r},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueAutofocus=t();