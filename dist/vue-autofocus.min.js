/*!
  * vue-autofocus v1.0.4
  * (c) 2020 André Bunse (aburai)
  * @license MIT
  */
/*!
  * vue-autofocus v1.0.4
  * (c) 2020 André Bunse (aburai)
  * @license MIT
  */
var e,t;e=this,t=function(){"use strict";var e,t={initDelay:300,focusDelay:100,refocusDelay:100,select:!0,debug:!1},n=["INPUT","TEXTAREA"],o=n.concat(["SELECT","BUTTON"]),i=function(e){return e?e.getAttribute("disabled")||e.classList.contains("disabled")?"el disabled":"":"el missing"},c=function(){};return c.prototype.init=function(e){},c.install=function c(u,r){if(!c.installed||e!==u){c.installed=!0,e=u;var l,f,s,a,d=Object.assign({},t,r);u.prototype.$autofocus=function(t,c){var u=this,r=Object.assign({},d,c),m=!1;E("vue-autofocus",t||""),this.$nextTick((function(){l&&clearTimeout(l),l=setTimeout((function(){var e=y();if(!e)return E("container not found",t);if(!function(e,t){if(!e||"function"!=typeof e.getBoundingClientRect)return!1;var n,o;if(t&&t.parent){var i=t.parent;n=i.clientWidth,o=i.clientHeight}else n=window.innerWidth,o=window.innerHeight;var c=e.getBoundingClientRect();return c.left>=0&&c.left<n&&c.top>=0&&c.top<o}(e,r))return E("selector is not visible");var n=function(e){if(e&&"function"==typeof e.querySelector){if(o.includes(e.nodeName)&&!i(e))return e;var t=e.querySelector("[autofocus]");if(!t){var n=o.find((function(t){return!i(e.querySelector(t))}));n&&(t=e.querySelector(n))}return t}}(e);if(!(n instanceof HTMLElement))return E("found no element to focus",n);if(n===document.activeElement)return E("element already focused");var c=i(n);if(c)return E("error:",c,n);p(),E("set focus to",n),E("active element before",document.activeElement),u.$nextTick((function(){f&&clearTimeout(f),s&&clearTimeout(s),a&&clearTimeout(a),f=setTimeout((function(){n.focus(),s=setTimeout((function(){n===document.activeElement||m||n.focus(),a=setTimeout((function(){n===document.activeElement||m||n.focus(),n===document.activeElement?(v(n),E("focused",n)):m?E("user event: skipped"):E("failed",document.activeElement),f=null,s=null,a=null,T()}),r.refocusDelay)}),r.refocusDelay)}),r.focusDelay)}))}),r.initDelay)}));var v=function(e,t,o){if(r.select&&e&&e.nodeName&&n.includes(e.nodeName)&&e.value)if(e.createTextRange){var i=e.createTextRange();i.move("character",o),i.select()}else try{void 0!==t&&void 0!==o?e.setSelectionRange(t,o):e.select()}catch(e){console.warn("The input element type does not support selection")}},y=function(){var n;if(t&&"object"==typeof t&&t.ref&&u.$refs&&(t=u.$refs[t.ref]),t&&"string"==typeof t)u.$el&&"function"==typeof u.$el.querySelector&&(n=u.$el.querySelector(t),E("by selector=%s",t,n));else if(t instanceof e){var o=t;n=o.$refs.input||o.$el,E("by vue component",t,n)}else E("by component $el",n=u.$el);return n},p=function(){document.addEventListener("click",g,!0),document.addEventListener("keyup",b,!0)},T=function(){document.removeEventListener("click",g,!0),document.removeEventListener("keyup",b,!0)},g=function(){m=!0},b=function(){m=!0};function E(){r.debug&&console.log.apply(console,arguments)}}}},c.version="1.0.4",window&&window.Vue&&window.Vue.use(c),c},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueAutofocus=t();